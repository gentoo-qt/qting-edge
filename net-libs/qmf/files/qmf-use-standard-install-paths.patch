diff -Nur qmf-9999.orig/benchmarks/tst_messageserver/tst_messageserver.pro qmf-9999/benchmarks/tst_messageserver/tst_messageserver.pro
--- qmf-9999.orig/benchmarks/tst_messageserver/tst_messageserver.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/benchmarks/tst_messageserver/tst_messageserver.pro	2010-12-30 17:17:11.000000000 +0100
@@ -3,7 +3,7 @@
 CONFIG += qmfmessageserver qmfclient
 
 TARGET = tst_messageserver 
-target.path += $$QMF_INSTALL_ROOT/tests
+target.path += $$[QT_INSTALL_DATA]/tests
 
 BASE=../../
 include($$BASE/common.pri)
diff -Nur qmf-9999.orig/examples/listfilterplugin/listfilterplugin.pro qmf-9999/examples/listfilterplugin/listfilterplugin.pro
--- qmf-9999.orig/examples/listfilterplugin/listfilterplugin.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/examples/listfilterplugin/listfilterplugin.pro	2010-12-30 17:17:11.000000000 +0100
@@ -3,7 +3,7 @@
 CONFIG += qmfclient plugin
 QT = core
 
-target.path += $$QMF_INSTALL_ROOT/plugins/contentmanagers
+target.path += $$[QT_INSTALL_PLUGINS]/contentmanagers
 
 DEFINES += PLUGIN_INTERNAL
 
diff -Nur qmf-9999.orig/examples/messagingaccounts/messagingaccounts.pro qmf-9999/examples/messagingaccounts/messagingaccounts.pro
--- qmf-9999.orig/examples/messagingaccounts/messagingaccounts.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/examples/messagingaccounts/messagingaccounts.pro	2010-12-30 17:17:11.000000000 +0100
@@ -1,6 +1,6 @@
 TEMPLATE = app
 TARGET = messagingaccounts
-target.path += $$QMF_INSTALL_ROOT/bin
+target.path += $$[QT_INSTALL_BINS]
 CONFIG += qmfclient qmfmessageserver
 
 DEPENDPATH += .
diff -Nur qmf-9999.orig/examples/qtmail/app/app.pro qmf-9999/examples/qtmail/app/app.pro
--- qmf-9999.orig/examples/qtmail/app/app.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/examples/qtmail/app/app.pro	2010-12-30 17:17:11.000000000 +0100
@@ -1,7 +1,7 @@
 TEMPLATE = app
 TARGET = qtmail 
 CONFIG += qmfutil qmfclient qmfmessageserver
-target.path += $$QMF_INSTALL_ROOT/bin
+target.path += $$[QT_INSTALL_BINS]
 
 DEPENDPATH += . 
 
diff -Nur qmf-9999.orig/examples/qtmail/libs/qmfutil/qmfutil.pro qmf-9999/examples/qtmail/libs/qmfutil/qmfutil.pro
--- qmf-9999.orig/examples/qtmail/libs/qmfutil/qmfutil.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/examples/qtmail/libs/qmfutil/qmfutil.pro	2010-12-30 17:17:11.000000000 +0100
@@ -3,7 +3,7 @@
 CONFIG += qmfclient
 TARGET = qmfutil 
 
-target.path += $$QMF_INSTALL_ROOT/lib
+target.path += $$[QT_INSTALL_LIBS]
 
 DEFINES += QMFUTIL_INTERNAL
 
diff -Nur qmf-9999.orig/examples/qtmail/plugins/composers/email/email.pro qmf-9999/examples/qtmail/plugins/composers/email/email.pro
--- qmf-9999.orig/examples/qtmail/plugins/composers/email/email.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/examples/qtmail/plugins/composers/email/email.pro	2010-12-30 17:17:11.000000000 +0100
@@ -2,7 +2,7 @@
 TARGET = emailcomposer 
 CONFIG += qmfclient qmfutil plugin
 
-target.path += $$QMF_INSTALL_ROOT/plugins/composers
+target.path += $$[QT_INSTALL_PLUGINS]/composers
 
 DEFINES += PLUGIN_INTERNAL
 
diff -Nur qmf-9999.orig/examples/qtmail/plugins/viewers/generic/generic.pro qmf-9999/examples/qtmail/plugins/viewers/generic/generic.pro
--- qmf-9999.orig/examples/qtmail/plugins/viewers/generic/generic.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/examples/qtmail/plugins/viewers/generic/generic.pro	2010-12-30 17:17:11.000000000 +0100
@@ -2,7 +2,7 @@
 TARGET = genericviewer 
 CONFIG += qmfclient qmfutil plugin
 
-target.path += $$QMF_INSTALL_ROOT/plugins/viewers
+target.path += $$[QT_INSTALL_PLUGINS]/viewers
 
 # Use webkit to render mail if available
 contains(QT_CONFIG,webkit){
diff -Nur qmf-9999.orig/examples/serverobserver/serverobserver.pro qmf-9999/examples/serverobserver/serverobserver.pro
--- qmf-9999.orig/examples/serverobserver/serverobserver.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/examples/serverobserver/serverobserver.pro	2010-12-30 17:17:11.000000000 +0100
@@ -1,6 +1,6 @@
 TEMPLATE = app
 TARGET = serverobserver
-target.path += $$QMF_INSTALL_ROOT/bin
+target.path += $$[QT_INSTALL_BINS]
 CONFIG += qmfclient qmfmessageserver
 
 DEPENDPATH += .
diff -Nur qmf-9999.orig/src/libraries/qmfclient/qmfclient.pro qmf-9999/src/libraries/qmfclient/qmfclient.pro
--- qmf-9999.orig/src/libraries/qmfclient/qmfclient.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/src/libraries/qmfclient/qmfclient.pro	2010-12-30 17:23:31.000000000 +0100
@@ -2,8 +2,7 @@
 CONFIG += warn_on
 TARGET = qmfclient
 
-simulator:macx:target.path += $$QMF_INSTALL_ROOT/Library/Frameworks
-else:target.path += $$QMF_INSTALL_ROOT/lib
+target.path += $$[QT_INSTALL_LIBS]
 
 DEFINES += QT_BUILD_QCOP_LIB QMF_INTERNAL
 win32: {
@@ -164,7 +163,7 @@
                 libqtopiamail-zh_CN.ts \
                 libqtopiamail-zh_TW.ts
 
-header_files.path=$$QMF_INSTALL_ROOT/include/qmfclient
+header_files.path=$$[QT_INSTALL_HEADERS]/qmfclient
 header_files.files=$$PUBLIC_HEADERS
 
 INSTALLS += header_files 
@@ -173,7 +172,7 @@
 	CONFIG += create_pc create_prl
 	QMAKE_PKGCONFIG_LIBDIR  = $$target.path
 	QMAKE_PKGCONFIG_INCDIR  = $$header_files.path
-	QMAKE_PKGCONFIG_DESTDIR = pkgconfig
+	QMAKE_PKGCONFIG_DESTDIR = ../pkgconfig
 }
 
 include(../../../common.pri)
diff -Nur qmf-9999.orig/src/libraries/qmfmessageserver/qmfmessageserver.pro qmf-9999/src/libraries/qmfmessageserver/qmfmessageserver.pro
--- qmf-9999.orig/src/libraries/qmfmessageserver/qmfmessageserver.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/src/libraries/qmfmessageserver/qmfmessageserver.pro	2010-12-30 17:23:12.000000000 +0100
@@ -3,7 +3,7 @@
 CONFIG += qmfclient
 TARGET = qmfmessageserver
 
-target.path += $$QMF_INSTALL_ROOT/lib
+target.path += $$[QT_INSTALL_LIBS]
 
 QT = core network
 !contains(DEFINES,QMF_NO_MESSAGE_SERVICE_EDITOR):QT += gui
@@ -42,7 +42,7 @@
            qmailstoreaccountfilter.cpp \
            qmailtransport.cpp
 
-header_files.path=$$QMF_INSTALL_ROOT/include/qmfmessageserver
+header_files.path=$$[QT_INSTALL_HEADERS]/qmfmessageserver
 header_files.files=$$PUBLIC_HEADERS
 
 INSTALLS += header_files
@@ -51,6 +51,6 @@
 	CONFIG += create_pc create_prl
 	QMAKE_PKGCONFIG_LIBDIR  = $$target.path
 	QMAKE_PKGCONFIG_INCDIR  = $$header_files.path
-	QMAKE_PKGCONFIG_DESTDIR = pkgconfig
+	QMAKE_PKGCONFIG_DESTDIR = ../pkgconfig
 }
 include(../../../common.pri)
diff -Nur qmf-9999.orig/src/plugins/contentmanagers/qmfstoragemanager/qmfstoragemanager.pro qmf-9999/src/plugins/contentmanagers/qmfstoragemanager/qmfstoragemanager.pro
--- qmf-9999.orig/src/plugins/contentmanagers/qmfstoragemanager/qmfstoragemanager.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/src/plugins/contentmanagers/qmfstoragemanager/qmfstoragemanager.pro	2010-12-30 17:17:11.000000000 +0100
@@ -3,7 +3,7 @@
 CONFIG += qmfclient plugin
 QT = core
 
-target.path += $$QMF_INSTALL_ROOT/plugins/contentmanagers
+target.path += $$[QT_INSTALL_PLUGINS]/contentmanagers
 
 DEFINES += PLUGIN_INTERNAL
 
diff -Nur qmf-9999.orig/src/plugins/messageservices/imap/imap.pro qmf-9999/src/plugins/messageservices/imap/imap.pro
--- qmf-9999.orig/src/plugins/messageservices/imap/imap.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/src/plugins/messageservices/imap/imap.pro	2010-12-30 17:17:11.000000000 +0100
@@ -2,7 +2,7 @@
 TARGET = imap 
 CONFIG += qmfmessageserver qmfclient plugin
 
-target.path += $$QMF_INSTALL_ROOT/plugins/messageservices
+target.path += $$[QT_INSTALL_PLUGINS]/messageservices
 
 QT += core network
 
diff -Nur qmf-9999.orig/src/plugins/messageservices/pop/pop.pro qmf-9999/src/plugins/messageservices/pop/pop.pro
--- qmf-9999.orig/src/plugins/messageservices/pop/pop.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/src/plugins/messageservices/pop/pop.pro	2010-12-30 17:17:11.000000000 +0100
@@ -2,7 +2,7 @@
 TARGET = pop 
 CONFIG += qmfclient qmfmessageserver plugin
 
-target.path = $$QMF_INSTALL_ROOT/plugins/messageservices
+target.path = $$[QT_INSTALL_PLUGINS]/messageservices
 
 QT = core network
 
diff -Nur qmf-9999.orig/src/plugins/messageservices/qmfsettings/qmfsettings.pro qmf-9999/src/plugins/messageservices/qmfsettings/qmfsettings.pro
--- qmf-9999.orig/src/plugins/messageservices/qmfsettings/qmfsettings.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/src/plugins/messageservices/qmfsettings/qmfsettings.pro	2010-12-30 17:17:11.000000000 +0100
@@ -2,7 +2,7 @@
 TARGET = qmfsettings
 CONFIG += qmfclient qmfmessageserver plugin
 
-target.path += $$QMF_INSTALL_ROOT/plugins/messageservices
+target.path += $$[QT_INSTALL_PLUGINS]/messageservices
 
 QT = core network
 
diff -Nur qmf-9999.orig/src/plugins/messageservices/smtp/smtp.pro qmf-9999/src/plugins/messageservices/smtp/smtp.pro
--- qmf-9999.orig/src/plugins/messageservices/smtp/smtp.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/src/plugins/messageservices/smtp/smtp.pro	2010-12-30 17:17:11.000000000 +0100
@@ -3,7 +3,7 @@
 
 CONFIG += qmfclient qmfmessageserver plugin
 
-target.path += $$QMF_INSTALL_ROOT/plugins/messageservices
+target.path += $$[QT_INSTALL_PLUGINS]/messageservices
 
 QT = core network
 
diff -Nur qmf-9999.orig/src/tools/messageserver/messageserver.pro qmf-9999/src/tools/messageserver/messageserver.pro
--- qmf-9999.orig/src/tools/messageserver/messageserver.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/src/tools/messageserver/messageserver.pro	2010-12-30 17:17:11.000000000 +0100
@@ -4,7 +4,7 @@
 QT = core
 !contains(DEFINES,QMF_NO_MESSAGE_SERVICE_EDITOR):QT += gui
 
-target.path += $$QMF_INSTALL_ROOT/bin
+target.path += $$[QT_INSTALL_BINS]
 
 DEPENDPATH += . 
 
diff -Nur qmf-9999.orig/tests/tests.pri qmf-9999/tests/tests.pri
--- qmf-9999.orig/tests/tests.pri	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/tests/tests.pri	2010-12-30 17:17:11.000000000 +0100
@@ -2,7 +2,7 @@
     QMAKE_MACOSX_DEPLOYMENT_TARGET=10.5
 }
 
-target.path+=$$QMF_INSTALL_ROOT/tests
+target.path+=$$[QT_INSTALL_DATA]/tests
 
 QMFPATH=../../src/libraries/qmfclient
 DEPENDPATH += .
diff -Nur qmf-9999.orig/tests/tst_python_email/tst_python_email.pro qmf-9999/tests/tst_python_email/tst_python_email.pro
--- qmf-9999.orig/tests/tst_python_email/tst_python_email.pro	2010-12-30 17:17:02.000000000 +0100
+++ qmf-9999/tests/tst_python_email/tst_python_email.pro	2010-12-30 17:17:11.000000000 +0100
@@ -5,7 +5,7 @@
 !symbian {
     DEFINES += SRCDIR=\\\"$$_PRO_FILE_PWD_\\\"
 
-    testdata.path = $$QMF_INSTALL_ROOT/tests/testdata
+    testdata.path = $$[QMF_INSTALL_ROOT]/tests/testdata
     testdata.files = testdata/
 
     INSTALLS += testdata
